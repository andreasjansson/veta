%skip(requires OPENAI_API_KEY) if: test -z "$OPENAI_API_KEY"

===
agent adds a note via veta tool
===
cd "$CCTR_TEST_PATH/../../examples/agent-sdk" && node test-ws-chat.mjs add "Add a note with title 'CCTR Test Note' and body 'Hello from integration test' with tag 'cctr-test'. Use the addNote tool." "Added note"
---
ok

===
agent lists notes via veta tool
===
cd "$CCTR_TEST_PATH/../../examples/agent-sdk" && node test-ws-chat.mjs list "List all notes using the listNotes tool." "listNotes"
---
ok

===
agent shows a note via veta tool
===
cd "$CCTR_TEST_PATH/../../examples/agent-sdk" && node test-ws-chat.mjs show "Show note 1 using the showNote tool." "showNote"
---
ok

===
agent searches notes via veta tool
===
cd "$CCTR_TEST_PATH/../../examples/agent-sdk" && node test-ws-chat.mjs search "Search for notes containing 'cctr' using the searchNotes tool." "searchNotes"
---
ok
