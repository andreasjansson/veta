===
initialize veta for stdin tests
===
cd "$CCTR_WORK_DIR" && veta init
---
Initialized veta database in .veta/db.sqlite

===
add note with body from stdin
===
cd "$CCTR_WORK_DIR" && echo "Content from stdin" | veta add --title "Stdin note" --tags "stdin,test"
---
Added note 1

====
verify stdin content was saved
====
cd "$CCTR_WORK_DIR" && veta show 1
----
# Stdin note

Content from stdin

---

Last modified: {{ modified }}
Tags: stdin,test

===
add note with multiline body from stdin
===
cd "$CCTR_WORK_DIR" && printf "Line one\nLine two\nLine three" | veta add --title "Multiline note" --tags "multiline"
---
Added note 2

====
verify multiline content was saved
====
cd "$CCTR_WORK_DIR" && veta show 2
----
# Multiline note

Line one
Line two
Line three

---

Last modified: {{ modified }}
Tags: multiline

===
edit note body from stdin
===
cd "$CCTR_WORK_DIR" && echo "Updated via stdin" | veta edit 1
---
Edited note 1: Updated body

====
verify stdin edit was saved
====
cd "$CCTR_WORK_DIR" && veta show 1
----
# Stdin note

Updated via stdin

---

Last modified: {{ modified }}
Tags: stdin,test

===
edit note with multiline stdin
===
cd "$CCTR_WORK_DIR" && printf "New line one\nNew line two" | veta edit 2
---
Edited note 2: Updated body

====
verify multiline edit was saved
====
cd "$CCTR_WORK_DIR" && veta show 2
----
# Multiline note

New line one
New line two

---

Last modified: {{ modified }}
Tags: multiline
